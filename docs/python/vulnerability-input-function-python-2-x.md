# 输入()函数中的漏洞–Python 2 . x

> 原文:[https://www . geesforgeks . org/漏洞-输入-函数-python-2-x/](https://www.geeksforgeeks.org/vulnerability-input-function-python-2-x/)

本文旨在解释和探索 Python 2.x 中 input()函数的漏洞。在 Python 3 中，raw_input()函数被删除，它的功能被转移到一个名为 input()的新内置函数中。

**Python 2 . x 中输入数据的方式**

在 Python 2.x 中，有两种常见的接收输入的方法:

1.  使用**输入()功能:**该功能将您输入的输入值和类型**保持原样**而不修改任何类型。
2.  使用 **raw_input()函数**:该函数**显式地将**给定的输入转换为类型字符串，

让我们使用以下程序来确定两者之间的区别:

```py
# Python 2.x program to show differences between
# input() and rawinput()function 

# 3 inputs using raw_input() function, 
# after which data type of the value
# entered is displayed
s1 = raw_input("Enter input to test raw_input() function: ")
print type(s1)

s2 = raw_input("Enter input to test raw_input() function: ")
print type(s2)

s3 = raw_input("Enter input to test raw_input() function: ")
print type(s3)

# 3 inputs using input() function, 
# after which data type of the value
# entered is displayed
s4 = input("Enter input to test input() function: ")
print type(s4)

s5 = input("Enter input to test input() function: ")
print type(s5)

s6 = input("Enter input to test input() function: ")
print type(s6)
```

输入:

```py
Hello
456
[1,2,3]
45
"goodbye"
[1,2,3]

```

输出:

```py
Enter input to test raw_input() function: <type 'str'>
Enter input to test raw_input() function: <type 'str'>
Enter input to test raw_input() function: <type 'str'>

Enter input to test input() function: <type 'int'>
Enter input totest input() function: <type 'str'>
Enter input to test input() function: <type 'list'>

```

 **注意:**在 input()函数中进行字符串输入时，我们必须用双引号将 to 值括起来。这在 raw_input()中不是必需的

**输入法中的漏洞**

input()方法的漏洞在于，任何人都可以通过使用变量或方法的名称来访问访问输入值的变量。让我们一个接一个地探讨这些:

1.  **Variable name as input parameter:** The variable having the value of input variable is able to access the value of the input variable directly.

    ```py
    # Python 2.x program to show Vulnerabilities
    # in input() function using a variable 

    import random
    secret_number = random.randint(1,500)
    print "Pick a number between 1 to 500"
    while True:
        res = input("Guess the number: ")
        if res==secret_number:
            print "You win"
            break
        else:
            print "You lose"
            continue
    ```

    输入:

    ```py
    15

    ```

    输出:

    ```py
    Pick a number between 1 to 500
    Guess the number: You lose
    Guess the number: 

    ```

    输入:

    ```py
    secret_number

    ```

    输出:

    ```py
    Pick a number between 1 to 500
    Guess the number: You win

    ```

    可以看出，在第二种情况下，变量“secret_number”可以直接作为输入给出，答案总是“你赢了”。它像直接输入数字一样计算变量，这意味着它总是返回真布尔值。使用 raw_input 是不可能的，因为它不允许直接读取变量。

2.  **Function name as parameter:** The vulnerability lies here as we can even provide the name of a function as input and access values that are otherwise not meant to be accessed.

    ```py
    # Python 2.x program to demonstrate input() function
    # vulnerability by passing function name as parameter
    secret_value = 500

    # function that returns the secret value
    def secretfunction():
        return secret_value

    # using raw_input() to enter the number
    input1 = raw_input("Raw_input(): Guess secret number: ")

    # input1 will be explicitly converted to a string
    if input1 == secret_value:
        print "You guessed correct"
    else:
        print "wrong answer"

    # using input() to enter the number
    input2 = input("Input(): Guess the secret number: ")

    #input2 is evaluated as it is entered
    if input2 == secret_value:
        print "You guessed correct"
    else:
        print "wrong answer"
    ```

    输入:

    ```py
    400
    secretfunction()

    ```

    输出:

    ```py
    Raw_input(): Guess secret number: wrong answer
    Input(): Guess the secret number: You guessed correct

    ```

    在这组输入/输出中，我们可以看到，当我们使用 raw_input 时，我们必须输入正确的数字。然而，在使用 input()函数时，我们甚至可以提供函数或变量的名称，解释器将对此进行评估。
    这里，例如，输入()函数的输入已经作为函数“secretfunction()”的名称给出。解释器评估这个函数调用，并返回我们希望找到的秘密号，因此我们的 if 条件评估为真，即使我们没有输入秘密号

    输入:

    ```py
    secretfunction()
    secret_value

    ```

    输出:

    ```py
    Raw_input(): Guess secret number: wrong answer
    Input(): Guess the secret number: You guessed correct

    ```

    如第一点中所解释的，在这个例子中，我们也能够在“input()”函数的输入中简单地输入变量名“secret_number”，并且我们能够访问秘密值。
    然而，当试图在 raw_input()函数的输入中调用 secretfunction()时，它给了我们 false，因为解释器将我们的参数转换为字符串，并且没有将其评估为函数调用。

**防止输入漏洞**

最好在 python 2.x 中使用 raw_input()，然后将输入显式转换为我们需要的任何类型。例如，如果我们希望输入一个整数，我们可以执行以下操作

```py
n = int(raw_input())

```

这可以防止恶意调用或评估函数。

本文由 **Deepak Srivatsav** 供稿。如果你喜欢 GeeksforGeeks 并想投稿，你也可以使用[contribute.geeksforgeeks.org](http://www.contribute.geeksforgeeks.org)写一篇文章或者把你的文章邮寄到 contribute@geeksforgeeks.org。看到你的文章出现在极客博客主页上，帮助其他极客。

如果你发现任何不正确的地方，或者你想分享更多关于上面讨论的话题的信息，请写评论。